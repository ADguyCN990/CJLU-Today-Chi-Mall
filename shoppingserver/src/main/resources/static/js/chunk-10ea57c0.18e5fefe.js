(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10ea57c0"],{"410a":function(e,t,r){},"8f68":function(e,t,r){"use strict";r("410a")},e6aa:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"personalManage"}},[r("div",{staticStyle:{height:"100px"}},[r("div",{staticStyle:{"text-align":"left",float:"left"}},[r("el-upload",{staticClass:"upload-demo",staticStyle:{width:"100px"},attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"file-list":e.fileList}},[r("el-avatar",{attrs:{size:100,src:e.fileList[0].url}})],1)],1),r("div",{staticStyle:{float:"left","font-size":"35px",color:"#666666",position:"relative",top:"65px",left:"20px"}},[e._v(" "+e._s(this.nickname)+" ")])]),r("br"),r("hr",{staticStyle:{color:"black"}}),r("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[r("div",{staticClass:"card"},[r("el-form",{ref:"form",staticStyle:{"text-align":"left"},attrs:{model:e.form1,"label-width":"90px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"昵称"}},[r("el-input",{model:{value:e.form1.nickname,callback:function(t){e.$set(e.form1,"nickname",t)},expression:"form1.nickname"}})],1),r("el-form-item",{attrs:{label:"真实姓名"}},[r("el-input",{model:{value:e.form1.realname,callback:function(t){e.$set(e.form1,"realname",t)},expression:"form1.realname"}})],1),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio",{attrs:{label:"男"},model:{value:e.form1.userSex,callback:function(t){e.$set(e.form1,"userSex",t)},expression:"form1.userSex"}},[e._v("男")]),r("el-radio",{attrs:{label:"女"},model:{value:e.form1.userSex,callback:function(t){e.$set(e.form1,"userSex",t)},expression:"form1.userSex"}},[e._v("女")])],1),r("el-form-item",{attrs:{label:"收货地址"}},[r("el-input",{model:{value:e.form1.userAddress,callback:function(t){e.$set(e.form1,"userAddress",t)},expression:"form1.userAddress"}})],1),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{model:{value:e.form1.userEmail,callback:function(t){e.$set(e.form1,"userEmail",t)},expression:"form1.userEmail"}})],1),r("el-form-item",{attrs:{label:"电话号码"}},[r("el-input",{model:{value:e.form1.userMobile,callback:function(t){e.$set(e.form1,"userMobile",t)},expression:"form1.userMobile"}})],1),r("el-form-item",[r("el-button",{staticStyle:{float:"right",width:"100px"},attrs:{type:"primary",round:""},on:{click:e.submitBasicInfo}},[e._v("修改 ")])],1)],1)],1)],1)],1)]),r("el-tab-pane",{attrs:{label:"修改密码",name:"second"}},[r("div",{staticClass:"card"},[r("el-form",{ref:"form",staticStyle:{"text-align":"left"},attrs:{model:e.form2,"label-width":"90px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"旧密码"}},[r("el-input",{model:{value:e.form2.oldPassword,callback:function(t){e.$set(e.form2,"oldPassword",t)},expression:"form2.oldPassword"}})],1),r("el-form-item",{attrs:{label:"新密码"}},[r("el-input",{model:{value:e.form2.newPassword,callback:function(t){e.$set(e.form2,"newPassword",t)},expression:"form2.newPassword"}})],1),r("el-form-item",{attrs:{label:"确认新密码"}},[r("el-input",{model:{value:e.form2.newPasswordConfirm,callback:function(t){e.$set(e.form2,"newPasswordConfirm",t)},expression:"form2.newPasswordConfirm"}})],1),r("el-form-item",[r("el-button",{staticStyle:{float:"right",width:"100px"},attrs:{type:"primary",round:""},on:{click:e.submitPassword}},[e._v("修改")])],1)],1)],1)],1)],1)]),r("el-tab-pane",{attrs:{label:"我的会员",name:"third"}},[r("div",{staticClass:"card"},[e.form1.vip?r("div",[r("p",{staticStyle:{color:"red"}},[e._v("您是尊贵的会员用户")])]):r("div",[r("p",[e._v("您还不是会员哦")]),r("div",[e._v(" 立即 "),r("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("注册会员")])],1)])])]),r("el-tab-pane",{attrs:{label:"申请开店",name:"fourth"}},[r("div",{staticClass:"card"},[e.isStoreOwner?r("div",[r("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"},on:{click:function(t){return e.$router.replace("/personal/store")}}},[e._v(" 你已经是店主了，快去管理你的店铺吧>> ")])],1):r("div",[r("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"}},[e._v(" 立即申请开店 ")])],1)])])],1),r("el-dialog",{attrs:{title:"注册会员",visible:e.dialogVisible,width:"25%","lock-scroll":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("span",{staticStyle:{"font-size":"16px"}},[e._v("确定注册会员吗？")]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.registerMembership}},[e._v("确 定")])],1)])],1)},s=[],o=(r("ac1f"),r("5319"),r("e9c4"),{name:"PersonalManage",data:function(){return{nickname:null,form1:{},form2:{oldPassword:"",newPassword:"",newPasswordConfirm:""},activeName:"first",fileList:[{url:""}],isMembership:!0,isStoreOwner:!0,isAdministrator:!0,dialogVisible:!1}},methods:{submitBasicInfo:function(){var e=this;this.$confirm("确定修改个人资料吗").then((function(){e.$http.post("user/updateInfo",e.form1).then((function(t){1e4===t.code&&(e.getInfo(),e.$message.success("修改成功！"))}))}))},submitPassword:function(){var e=this;this.$confirm("确定修改密码吗？").then((function(){e.form2.newPassword===e.form2.newPasswordConfirm?JSON.parse(localStorage.getItem("userInform")).password===e.form2.oldPassword?e.$http.post("user/updateInfo",{userId:e.form1.userId,password:e.form2.newPassword}).then((function(t){1e4===t.code&&(e.$message.success("修改密码成功，请重新登录！"),setTimeout((function(){localStorage.clear(),e.$router.replace("/login")}),3e3))})):e.$message.warning("旧密码错误！"):e.$message.warning("密码和确认密码不一致！")}))},registerMembership:function(){var e=this;this.dialogVisible=!1,this.$http.get("user/becomevip",{username:JSON.parse(localStorage.getItem("userInform")).username}).then((function(t){1e4===t.code&&(e.$message.info("注册会员成功！"),e.form1.vip=!0)}))},getInfo:function(){var e=this;this.$http.get("user/info").then((function(t){1e4===t.code?(localStorage.setItem("userInform",JSON.stringify(t.data)),e.fileList[0].url=t.data.userImg,e.form1=t.data,e.nickname=t.data.nickname,e.isStoreOwner=t.data.shopKeeper):e.$message.error(t.msg)}))}},created:function(){this.getInfo()}}),i=o,l=(r("8f68"),r("2877")),n=Object(l["a"])(i,a,s,!1,null,"60ec6ef6",null);t["default"]=n.exports},e9c4:function(e,t,r){var a=r("23e7"),s=r("da84"),o=r("d066"),i=r("2ba4"),l=r("e330"),n=r("d039"),c=s.Array,f=o("JSON","stringify"),m=l(/./.exec),u=l("".charAt),d=l("".charCodeAt),p=l("".replace),b=l(1..toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,h=function(e,t,r){var a=u(r,t-1),s=u(r,t+1);return m(w,e)&&!m(g,s)||m(g,e)&&!m(w,a)?"\\u"+b(d(e,0),16):e},x=n((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")}));f&&a({target:"JSON",stat:!0,forced:x},{stringify:function(e,t,r){for(var a=0,s=arguments.length,o=c(s);a<s;a++)o[a]=arguments[a];var l=i(f,null,o);return"string"==typeof l?p(l,v,h):l}})}}]);
//# sourceMappingURL=chunk-10ea57c0.18e5fefe.js.map