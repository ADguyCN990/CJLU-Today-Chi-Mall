(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74a02df6"],{c24b:function(t,e,o){"use strict";o("f1d1")},f1d1:function(t,e,o){},fd6f:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"carousel"}},[o("div",{staticStyle:{height:"30px"}},[o("el-button",{staticStyle:{float:"left","margin-bottom":"20px"},attrs:{type:"primary",round:""},on:{click:t.add}},[t._v(" 添加轮播图 ")])],1),o("el-table",{staticStyle:{width:"100%","font-size":"16px","border-radius":"10px","box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.3)"},attrs:{data:t.tableData,border:"",stripe:"","empty-text":"暂无数据"}},[o("el-table-column",{attrs:{label:"商品 ID",prop:"prodId"}}),o("el-table-column",{attrs:{label:"图片",prop:"imgUrl"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-popover",{attrs:{trigger:"hover",placement:"right-end","close-delay":0}},[o("img",{attrs:{src:e.row.imgUrl,alt:"加载失败"}}),o("div",{staticClass:"name-wrapper",staticStyle:{width:"70px"},attrs:{slot:"reference"},slot:"reference"},[o("el-tag",{attrs:{size:"medium"}},[t._v("查看图片")])],1)])]}}])}),o("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"danger",round:""},on:{click:function(o){return t.deleteItem(e.row.imgId)}}},[t._v("删除")])]}}])})],1),o("el-dialog",{attrs:{visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{staticStyle:{"text-align":"left"},attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"商品id","label-width":t.formLabelWidth}},[o("el-input",{staticClass:"inputWidth",attrs:{autocomplete:"off"},model:{value:t.form.productId,callback:function(e){t.$set(t.form,"productId",e)},expression:"form.productId"}})],1),o("el-form-item",{attrs:{label:"商品图片","label-width":t.formLabelWidth}},[o("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{width:"300px"},attrs:{action:"","before-upload":t.beforeUpload,limit:1,"list-type":"picture","auto-upload":!1}},[o("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片比例为1:1")])],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")])],1)],1)],1)},i=[],l={name:"SystemCarousel",data:function(){return{form:{productId:1},tableData:[],dialogFormVisible:!1,formLabelWidth:"120px"}},methods:{add:function(){this.dialogFormVisible=!0,this.form.productId=null},deleteItem:function(t){var e=this;this.$http.post("/index/deleteIndexImg?imgId="+t).then((function(t){1e4===t.code?e.$message.success("操作成功！"):e.$message.error(t.msg)}))},beforeUpload:function(t){var e=this,o=new FormData;return o.append("file",t),o.append("productId",this.form.productId),this.$http.post("file/indexImg",o).then((function(t){1e4===t.code?e.$message.success("操作成功！"):e.$message.error(t.msg)})),!1},submitForm:function(){this.$refs.upload.submit(),this.dialogFormVisible=!1}},created:function(){var t=this;this.$http.get("/index/indeximg").then((function(e){1e4===e.code&&(t.tableData=e.data)}))}},r=l,s=(o("c24b"),o("2877")),d=Object(s["a"])(r,a,i,!1,null,"69247a54",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-74a02df6.fe747997.js.map