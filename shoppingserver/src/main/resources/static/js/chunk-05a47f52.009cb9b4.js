(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05a47f52"],{"40c8":function(e,t,s){"use strict";s("4aca")},"4aca":function(e,t,s){},e6aa:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"personalManage"}},[s("div",{staticStyle:{height:"100px"}},[s("div",{staticStyle:{"text-align":"left",float:"left"}},[s("el-upload",{staticClass:"upload-demo",staticStyle:{width:"100px"},attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"file-list":e.fileList}},[s("el-avatar",{attrs:{size:100,src:e.fileList[0].url}})],1)],1),s("div",{staticStyle:{float:"left","font-size":"35px",color:"#666666",position:"relative",top:"65px",left:"20px"}},[e._v(" "+e._s()+" ")])]),s("br"),s("hr",{staticStyle:{color:"black"}}),e._m(0),s("div",{staticClass:"card"},[s("el-form",{ref:"form",staticStyle:{"text-align":"left"},attrs:{model:e.form1,"label-width":"90px"}},[s("el-form-item",{attrs:{label:"昵称"}},[s("el-input",{model:{value:e.form1.nickname,callback:function(t){e.$set(e.form1,"nickname",t)},expression:"form1.nickname"}})],1),s("el-form-item",{attrs:{label:"真实姓名"}},[s("el-input",{model:{value:e.form1.realname,callback:function(t){e.$set(e.form1,"realname",t)},expression:"form1.realname"}})],1),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{attrs:{label:"男"},model:{value:e.form1.userSex,callback:function(t){e.$set(e.form1,"userSex",t)},expression:"form1.userSex"}},[e._v("男")]),s("el-radio",{attrs:{label:"女"},model:{value:e.form1.userSex,callback:function(t){e.$set(e.form1,"userSex",t)},expression:"form1.userSex"}},[e._v("女")])],1),s("el-form-item",{attrs:{label:"收货地址"}},[s("el-input",{model:{value:e.form1.userAddress,callback:function(t){e.$set(e.form1,"userAddress",t)},expression:"form1.userAddress"}})],1),s("el-form-item",{attrs:{label:"邮箱"}},[s("el-input",{model:{value:e.form1.userEmail,callback:function(t){e.$set(e.form1,"userEmail",t)},expression:"form1.userEmail"}})],1),s("el-form-item",{attrs:{label:"电话号码"}},[s("el-input",{model:{value:e.form1.userMobile,callback:function(t){e.$set(e.form1,"userMobile",t)},expression:"form1.userMobile"}})],1),s("el-form-item",[s("el-button",{staticStyle:{float:"right",width:"100px"},attrs:{type:"primary",round:""},on:{click:e.submitBasicInfo}},[e._v("修改")])],1)],1)],1),e._m(1),s("div",{staticClass:"card"},[e.form1.vip?s("div",[s("p",{staticStyle:{color:"red"}},[e._v("您是尊贵的会员用户")])]):s("div",[s("p",[e._v("您还不是会员哦")]),s("div",[e._v(" 立即 "),s("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("注册会员")])],1)])]),e._m(2),s("div",{staticClass:"card"},[s("el-form",{ref:"form",staticStyle:{"text-align":"left"},attrs:{model:e.form2,"label-width":"90px"}},[s("el-form-item",{attrs:{label:"旧密码"}},[s("el-input",{model:{value:e.form2.oldPassword,callback:function(t){e.$set(e.form2,"oldPassword",t)},expression:"form2.oldPassword"}})],1),s("el-form-item",{attrs:{label:"新密码"}},[s("el-input",{model:{value:e.form2.newPassword,callback:function(t){e.$set(e.form2,"newPassword",t)},expression:"form2.newPassword"}})],1),s("el-form-item",{attrs:{label:"确认新密码"}},[s("el-input",{model:{value:e.form2.newPasswordConfirm,callback:function(t){e.$set(e.form2,"newPasswordConfirm",t)},expression:"form2.newPasswordConfirm"}})],1),s("el-form-item",[s("el-button",{staticStyle:{float:"right",width:"100px"},attrs:{type:"primary",round:""},on:{click:e.submitPassword}},[e._v("修改")])],1)],1)],1),s("el-dialog",{attrs:{title:"注册会员",visible:e.dialogVisible,width:"25%","lock-scroll":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("span",{staticStyle:{"font-size":"16px"}},[e._v("确定注册会员吗？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.registerMembership}},[e._v("确 定")])],1)])],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"text-align":"left"}},[s("h4",[e._v("基本信息")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"text-align":"left"}},[s("h4",[e._v("我的会员")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"text-align":"left"}},[s("h4",[e._v("修改密码")])])}],r=(s("ac1f"),s("5319"),{name:"PersonalManage",data:function(){return{nickname:null,form1:{},form2:{oldPassword:"",newPassword:"",newPasswordConfirm:""},fileList:[{url:""}],isMembership:!0,isStoreOwner:!0,isAdministrator:!0,dialogVisible:!1}},methods:{submitBasicInfo:function(){var e=this;this.$confirm("确定修改个人资料吗").then((function(){e.$http.post("user/updateInfo",e.form1).then((function(t){1e4===t.code&&(e.getInfo(),e.$message.success("修改成功！"))}))}))},submitPassword:function(){var e=this;this.$confirm("确定修改密码吗？").then((function(){e.$http.post("user/updateInfo",{userId:e.form1.userId,password:e.form2.newPassword}).then((function(t){1e4===t.code&&(e.$message.success("修改密码成功，请重新登录！"),setTimeout((function(){localStorage.clear(),e.$router.replace("/login")}),3e3))}))}))},registerMembership:function(){var e=this;this.dialogVisible=!1,this.$http.get("user/becomevip",{username:JSON.parse(localStorage.getItem("userInform")).username}).then((function(t){1e4===t.code&&(e.$message.info("注册会员成功！"),e.form1.vip=!0)}))},getInfo:function(){var e=this;this.$http.get("user/info").then((function(t){1e4===t.code?(e.fileList[0].url=t.data.userImg,e.form1=t.data,e.nickname=t.data.nickname):e.$message.error(t.msg)}))}},created:function(){this.getInfo()}}),l=r,a=(s("40c8"),s("2877")),n=Object(a["a"])(l,o,i,!1,null,"acd65290",null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-05a47f52.009cb9b4.js.map